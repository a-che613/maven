module.exports=[35911,70106,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(57707);a.i(30485);var f=a.i(31052);let g=(0,f.getAuth)(e.default),h=(0,c.createContext)(void 0);function i({children:a}){let[e,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null);(0,d.useRouter)(),(0,c.useEffect)(()=>{try{let a=localStorage.getItem("cart");if(a){let b=JSON.parse(a);Array.isArray(b)&&b.every(a=>a&&"string"==typeof a.id&&"string"==typeof a.name&&"number"==typeof a.price&&"string"==typeof a.image&&"number"==typeof a.quantity)?i(b):(console.warn("Invalid cart data in localStorage, resetting cart"),localStorage.removeItem("cart"))}}catch(a){console.error("Error loading cart from localStorage:",a),localStorage.removeItem("cart")}let a=(0,f.onAuthStateChanged)(g,a=>{m(a)});return()=>a()},[]),(0,c.useEffect)(()=>{try{e.length>0?localStorage.setItem("cart",JSON.stringify(e)):localStorage.removeItem("cart")}catch(a){console.error("Error saving cart to localStorage:",a)}},[e]);let n=e.reduce((a,b)=>a+b.quantity,0),o=e.reduce((a,b)=>a+b.price*b.quantity,0);return(0,b.jsx)(h.Provider,{value:{cart:e,addToCart:a=>{i(b=>b.find(b=>b.id===a.id)?b.map(b=>b.id===a.id?{...b,quantity:b.quantity+1}:b):[...b,{...a,quantity:1}])},updateQuantity:(a,b)=>{i(c=>c.map(c=>c.id===a?{...c,quantity:Math.max(1,c.quantity+b)}:c).filter(a=>a.quantity>0))},removeFromCart:a=>{i(b=>b.filter(b=>b.id!==a))},clearCart:()=>{i([]),localStorage.removeItem("cart")},isCartOpen:j,toggleCart:()=>{k(!j)},cartCount:n,totalPrice:o,currentUser:l},children:a})}a.s(["CartProvider",()=>i,"useCart",0,()=>{let a=(0,c.useContext)(h);if(void 0===a)throw Error("useCart must be used within a CartProvider");return a}],35911);let j=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,c.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:d=2,absoluteStrokeWidth:e,className:f="",children:g,iconNode:h,...i},l)=>(0,c.createElement)("svg",{ref:l,...k,width:b,height:b,stroke:a,strokeWidth:e?24*Number(d)/Number(b):d,className:j("lucide",f),...i},[...h.map(([a,b])=>(0,c.createElement)(a,b)),...Array.isArray(g)?g:[g]])),m=(a,b)=>{let d=(0,c.forwardRef)(({className:d,...e},f)=>(0,c.createElement)(l,{ref:f,iconNode:b,className:j(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,d),...e}));return d.displayName=`${a}`,d};a.s(["default",()=>m],70106)},40784,a=>{"use strict";let b=(0,a.i(70106).default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);a.s(["ShoppingBag",()=>b],40784)},68079,a=>{"use strict";var b=a.i(87924),c=a.i(40784),d=a.i(35911);function e(){let{cartCount:a,toggleCart:e}=(0,d.useCart)();return(0,b.jsx)("div",{className:"fixed bottom-8 right-8 z-40",children:(0,b.jsxs)("button",{type:"button",onClick:e,className:"bg-black text-white p-4 rounded-full shadow-lg hover:bg-gray-800 transition-colors relative","aria-label":"Open cart",children:[(0,b.jsx)(c.ShoppingBag,{className:"h-6 w-6"}),a>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center",children:a>9?"9+":a})]})})}a.s(["default",()=>e])},33508,15618,23025,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>c],33508);let d=(0,b.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>d],15618);let e=(0,b.default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["Minus",()=>e],23025)},55094,a=>{"use strict";var b=a.i(87924),c=a.i(33508),d=a.i(15618),e=a.i(23025),f=a.i(40784);let g=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var h=a.i(99570),i=a.i(35911),j=a.i(71987),k=a.i(50944),l=a.i(72131),m=a.i(66718),n=a.i(14574),o=a.i(23292);function p(){let[a,p]=(0,l.useState)(!1),[q,r]=(0,l.useState)(!1),[s,t]=(0,l.useState)({name:"",email:"",phone:"",address:"",paymentMethod:"bank-transfer"}),{cart:u,isCartOpen:v,toggleCart:w,updateQuantity:x,removeFromCart:y,clearCart:z,cartCount:A,totalPrice:B}=(0,i.useCart)();(0,k.useRouter)();let C=a=>{let{name:b,value:c}=a.target;t(a=>({...a,[b]:c}))},D=async()=>{if(0!==u.length){if(!s.name||!s.email||!s.phone||!s.address)return void o.toast.error("Please fill in all required fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email))return void o.toast.error("Please enter a valid email address");p(!0);try{let a=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:s,items:u,total:B})}),b=await a.json();if(a.ok)alert("Order placed successfully!"),z(),t({name:"",email:"",phone:"",address:"",paymentMethod:"bank-transfer"}),r(!1),w(),o.toast.success("Order placed successfully!",{description:"Check your email for order confirmation."});else throw Error(b.error||"Failed to process checkout")}catch(a){console.error("Checkout error:",a),o.toast.error("There was an error processing your order. Please try again.")}finally{p(!1)}}};return v?(console.log("Cart items:",u),console.log("Cart count:",A),(0,b.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,b.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:w,"aria-hidden":"true"}),(0,b.jsx)("div",{className:"fixed inset-y-0 right-0 flex max-w-full pl-10",children:(0,b.jsx)("div",{className:"w-screen max-w-md",children:(0,b.jsxs)("div",{className:"flex h-full flex-col bg-white shadow-xl",children:[(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto py-6 px-4 sm:px-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Shopping cart"}),(0,b.jsx)("div",{className:"ml-3 flex h-7 items-center",children:(0,b.jsxs)("button",{type:"button",className:"-m-2 p-2 text-gray-400 hover:text-gray-500",onClick:w,children:[(0,b.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,b.jsx)(c.X,{className:"h-6 w-6","aria-hidden":"true"})]})})]}),(0,b.jsx)("div",{className:"mt-8",children:(0,b.jsx)("div",{className:"flow-root",children:0===u.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.ShoppingBag,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Your cart is empty"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Start adding some items to your cart."})]}):(0,b.jsx)("ul",{className:"-my-6 divide-y divide-gray-200",children:u.filter(a=>a.quantity>0).map(a=>(0,b.jsxs)("li",{className:"flex py-6",children:[(0,b.jsx)("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:(0,b.jsx)(j.default,{src:a.image,alt:a.name,width:96,height:96,className:"h-full w-full object-cover object-center"})}),(0,b.jsxs)("div",{className:"ml-4 flex flex-1 flex-col",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,b.jsx)("h3",{children:a.name}),(0,b.jsxs)("p",{className:"ml-4",children:["$",a.price.toFixed(2)]})]})}),(0,b.jsxs)("div",{className:"flex flex-1 items-end justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center border rounded-md",children:[(0,b.jsx)("button",{onClick:()=>x(a.id,-1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100",children:(0,b.jsx)(e.Minus,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"px-3",children:a.quantity}),(0,b.jsx)("button",{onClick:()=>x(a.id,1),className:"px-3 py-1 text-gray-600 hover:bg-gray-100",children:(0,b.jsx)(d.Plus,{className:"h-4 w-4"})})]}),(0,b.jsx)("button",{type:"button",className:"font-medium text-red-600 hover:text-red-500",onClick:()=>y(a.id),children:"Remove"})]})]})]},a.id))})})})]}),u.length>0&&(0,b.jsxs)("div",{className:"border-t border-gray-200 py-6 px-4 sm:px-6",children:[(0,b.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,b.jsx)("p",{children:"Subtotal"}),(0,b.jsxs)("p",{children:["$",B.toFixed(2)]})]}),(0,b.jsx)("p",{className:"mt-0.5 text-sm text-gray-500",children:"Shipping and taxes calculated at checkout."}),(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsxs)("button",{onClick:()=>r(!0),className:"w-full bg-black text-white py-3 px-4 rounded-md text-sm font-medium hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-70 disabled:cursor-not-allowed",disabled:0===A,children:["Proceed to Checkout - $",B.toFixed(2)]})}),(0,b.jsx)("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",children:(0,b.jsxs)("p",{children:["or"," ",(0,b.jsxs)("button",{type:"button",className:"font-medium text-black hover:text-gray-500",onClick:w,children:["Continue Shopping",(0,b.jsx)("span",{"aria-hidden":"true",children:" â†’"})]})]})})]})]})})})]}),(0,b.jsx)(n.Dialog,{open:q,onOpenChange:r,children:(0,b.jsxs)(n.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(n.DialogHeader,{children:[(0,b.jsx)(n.DialogTitle,{children:"Checkout"}),(0,b.jsx)(n.DialogDescription,{children:"Please provide your details to complete the order"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Full Name *"}),(0,b.jsx)(m.Input,{name:"name",placeholder:"John Doe",value:s.name,onChange:C,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Email *"}),(0,b.jsx)(m.Input,{name:"email",type:"email",placeholder:"john@example.com",value:s.email,onChange:C,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Phone Number *"}),(0,b.jsx)(m.Input,{name:"phone",type:"tel",placeholder:"+1 123 456 7890",value:s.phone,onChange:C,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Shipping Address *"}),(0,b.jsx)(m.Input,{name:"address",placeholder:"123 Main St, City, State, ZIP",value:s.address,onChange:C,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium block",children:"Payment Method"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors ${"bank-transfer"===s.paymentMethod?"border-emerald-500 bg-emerald-50":"border-input"}`,children:[(0,b.jsx)("input",{type:"radio",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300",checked:"bank-transfer"===s.paymentMethod,onChange:()=>t({...s,paymentMethod:"bank-transfer"})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Bank Transfer"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Complete payment via bank transfer"})]})]}),(0,b.jsxs)("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors ${"btc-wallet"===s.paymentMethod?"border-emerald-500 bg-emerald-50":"border-input"}`,children:[(0,b.jsx)("input",{type:"radio",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300",checked:"btc-wallet"===s.paymentMethod,onChange:()=>t({...s,paymentMethod:"btc-wallet"})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"BTC Wallet"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pay with Bitcoin"})]})]}),(0,b.jsxs)("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors ${"gift-card"===s.paymentMethod?"border-emerald-500 bg-emerald-50":"border-input"}`,children:[(0,b.jsx)("input",{type:"radio",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300",checked:"gift-card"===s.paymentMethod,onChange:()=>t({...s,paymentMethod:"gift-card"})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("p",{className:"text-sm font-medium",children:"Gift Card"})})]}),(0,b.jsxs)("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors ${"cash-app"===s.paymentMethod?"border-emerald-500 bg-emerald-50":"border-input"}`,children:[(0,b.jsx)("input",{type:"radio",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300",checked:"cash-app"===s.paymentMethod,onChange:()=>t({...s,paymentMethod:"cash-app"})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("p",{className:"text-sm font-medium",children:"Cash App"})})]}),(0,b.jsxs)("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors ${"zelle"===s.paymentMethod?"border-emerald-500 bg-emerald-50":"border-input"}`,children:[(0,b.jsx)("input",{type:"radio",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300",checked:"zelle"===s.paymentMethod,onChange:()=>t({...s,paymentMethod:"zelle"})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("p",{className:"text-sm font-medium",children:"Zelle"})})]}),(0,b.jsxs)("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors ${"venmo"===s.paymentMethod?"border-emerald-500 bg-emerald-50":"border-input"}`,children:[(0,b.jsx)("input",{type:"radio",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300",checked:"venmo"===s.paymentMethod,onChange:()=>t({...s,paymentMethod:"venmo"})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("p",{className:"text-sm font-medium",children:"Venmo"})})]})]})]}),(0,b.jsxs)("div",{className:"bg-muted p-4 rounded-lg space-y-2 mt-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Subtotal:"}),(0,b.jsxs)("span",{children:["$",B.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Shipping:"}),(0,b.jsx)("span",{className:"text-emerald-600",children:"FREE"})]}),(0,b.jsxs)("div",{className:"flex justify-between font-bold pt-2 border-t border-gray-200 mt-2",children:[(0,b.jsx)("span",{children:"Total:"}),(0,b.jsxs)("span",{className:"text-emerald-600",children:["$",B.toFixed(2)]})]})]}),(0,b.jsx)(h.Button,{className:"w-full mt-4 bg-emerald-600 hover:bg-emerald-700",onClick:D,disabled:a,children:a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Place Order"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"By placing your order, you agree to our Terms of Service and Privacy Policy."})]})]})})]})):null}a.s(["default",()=>p],55094)}];

//# sourceMappingURL=_3559f98b._.js.map